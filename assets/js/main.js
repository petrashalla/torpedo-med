Fancybox.bind("[data-fancybox]",{});let animationItems=document.querySelectorAll(".animation-item");if(0<animationItems.length){function onEntry(e){e.forEach(e=>{e.isIntersecting&&e.target.classList.add("animation-active")})}let e={threshold:[.5]},t=new IntersectionObserver(onEntry,e);for(let e of animationItems)t.observe(e)}document.addEventListener("DOMContentLoaded",()=>{var e=document.querySelectorAll(".principles__item");let n=new IntersectionObserver(e=>{e.forEach((e,t)=>{e.isIntersecting&&(setTimeout(()=>{e.target.classList.add("active")},2e3*t),n.unobserve(e.target))})},{threshold:.5});e.forEach(e=>n.observe(e))});let scrollWidthFunc=()=>{var e=window.innerWidth-document.body.clientWidth;document.querySelector("html").style.paddingRight=e+"px",document.querySelector("header").style.paddingRight=e+"px"},scrollTop=document.querySelector(".scroll-top"),articleNavigation=(scrollTop&&scrollTop.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),["load","resize"].forEach(e=>{window.addEventListener(e,function(){let t=header.clientHeight,n=header.querySelector(".header__top");var o;n&&(o=n.offsetHeight),window.onscroll=function(e){window.scrollY>t?n.classList.contains("hide")||1200<window.innerWidth&&(n.classList.add("hide"),n.style.height="0px",n.style.opacity="0",n.style.overflow="hidden"):(n.style.height=o+"px",n.classList.remove("hide"),n.style.opacity="1",n.style.overflow="visible")}})}),document.addEventListener("DOMContentLoaded",function(){let t=document.querySelector(".header__nav_services");t&&t.addEventListener("click",e=>{document.querySelector("html").addEventListener("click",function(e){e.target.closest(".header__nav_services")||t.classList.remove("active")}),t.classList.toggle("active")}),document.querySelectorAll(".burger__menu").forEach(t=>{if(t){let e=document.querySelector(".header__menu");document.querySelector(".header");t.addEventListener("click",()=>{e.classList.toggle("header__menu--active"),t.classList.toggle("burger__menu--active"),document.body.classList.toggle("burger-lock"),document.querySelector("html").classList.toggle("burger-lock")})}});document.querySelectorAll(".tab-btn").forEach(e=>{e&&e.addEventListener("click",function(){var e,t,n;(n=(e=this).closest(".tab"))&&!e.classList.contains("active")&&(t=e.dataset.id,n.querySelectorAll(".tab-btn").forEach(e=>e.classList.remove("active")),n.querySelectorAll(".tab-content").forEach(e=>e.classList.remove("active")),e.classList.add("active"),n.querySelector(`.tab-content[data-id="${t}"]`)?.classList.add("active"),e=n.closest(".accordion__content"))&&o(e)})});let o=t=>{if(t){var n=t.offsetHeight;t.style.maxHeight="none";let e=t.scrollHeight;t.style.maxHeight=n+"px",setTimeout(()=>{t.style.maxHeight=e+"px"},10)}};var e=document.querySelectorAll(".accordion");function c(){let t=document.querySelector(".stages__btns");var e=document.querySelectorAll(".stages__content_wrap");t&&e&&e.forEach(e=>{e.style.maxHeight=t.scrollHeight+"px"})}function s(e){e.classList.remove("open"),setTimeout(()=>{e.classList.contains("open")||e.classList.remove("active")},400),document.body.classList.remove("lock"),document.querySelector("html").style.paddingRight=0,document.querySelector("html").classList.remove("lock"),document.querySelector("header").removeAttribute("style")}e&&e.forEach(e=>{e.addEventListener("click",function(){var e=this.querySelector(".accordion__content")||this.parentElement.querySelector(".accordion__content");e.classList.contains("accordion__content--active")?(e.classList.remove("accordion__content--active"),this.classList.remove("accordion--active"),e.style.maxHeight="0"):(e.classList.add("accordion__content--active"),this.classList.add("accordion--active"),o(e))})}),c(),document.querySelectorAll(".btn-more").forEach(o=>{if(o){let t=o.previousElementSibling;o.style.display="",o.classList.remove("show"),t.classList.remove("show"),c(),t.closest(".tab-content")&&(t.closest(".tab-content").style.display="block");var e=t.scrollHeight;let n=t.clientHeight;if(t.closest(".tab-content")&&(t.closest(".tab-content").style.display=""),e<=n)o.style.display="none",t.classList.add("show");else{let e=o.innerHTML;o.addEventListener("click",function(){o.classList.contains("show")?(this.classList.remove("show"),t.classList.remove("show"),t.style.maxHeight=n+"px",this.textContent=e,t.classList.contains("stages__content_wrap")&&c()):(t.style.maxHeight=t.scrollHeight+"px",this.textContent="Свернуть",this.classList.add("show"),t.classList.add("show"))})}}}),window.addEventListener("resize",()=>{var e=document.querySelector(".footer__nav-servisces ul");e&&(window.innerWidth<=768?e.classList.add("accordion__content"):e.classList.remove("accordion__content"))});e=document.querySelectorAll(".popup-btn");let l=document.querySelectorAll(".popup"),a=document.querySelector(".original-title").innerHTML;document.querySelectorAll(".close-popup-btn").forEach(function(e){e.addEventListener("click",function(e){s(e.target.closest(".popup"))})}),e.forEach(function(c){c.addEventListener("click",function(e){e.preventDefault();var t,n=e.currentTarget.dataset.path;let o=document.querySelector(`[data-target="${n}"]`);o&&(l.forEach(function(e){s(e),e.addEventListener("click",function(e){e.target.closest(".popup__content")||s(e.target.closest(".popup"))})}),o.classList.add("active"),setTimeout(()=>{o.classList.add("open")},10),"popup-change"==o.getAttribute("data-target")&&(n=o.querySelector(".original-title"),c.classList.contains("change-item__btn")?c.classList.contains("doctor__btn-js")?(t=c.closest(".change-item").querySelector(".change-item__title"),n.innerHTML="Записаться на приём к врачу: "+t.innerHTML):c.classList.contains("change-item__btn_current")?n.textContent=c.textContent:(t=c.closest(".change-item").querySelector(".change-item__title"),n.innerHTML=t.innerHTML):n.innerHTML=a),"popup-jobs"==o.getAttribute("data-target")&&(t=c.closest(".jobs__items"),n=o.querySelector(".jobs__inner_original"))&&t.querySelector(".jobs__inner")&&(n.innerHTML=t.querySelector(".jobs__inner").innerHTML),e.stopPropagation(),scrollWidthFunc(),document.querySelector("html").classList.add("lock"))})});e=document.getElementById("map-placeholder");function n(){var e;document.querySelector('[src="https://api-maps.yandex.ru/2.1/?lang=ru_RU"]')?i():((e=document.createElement("script")).type="text/javascript",e.src="https://api-maps.yandex.ru/2.1/?lang=ru_RU",e.onload=i,document.head.appendChild(e))}function i(){var e=document.getElementById("map-placeholder");e&&e.remove(),ymaps.ready(function(){var e=new ymaps.Map("map",{center:[47.231129,39.728721],zoom:14,controls:[]}),t=new ymaps.Placemark([47.231129,39.728721],{hintContent:"Клиника ТорпедоМед",balloonContent:"Клиника ТорпедоМед"},{iconLayout:"default#image",iconImageHref:"assets/img/icons/map-pin.png",iconImageSize:[40,50],iconImageOffset:[-20,-30]});e.geoObjects.add(t),e.behaviors.disable(["scrollZoom"])})}function r(){var e=document.querySelectorAll(".quantity-card"),n=document.querySelector(".quantity span");if(n){let t=0;e.forEach(e=>{null!==e.offsetParent&&t++}),n.textContent=t}}e&&(e.addEventListener("mouseenter",n,{once:!0}),e.addEventListener("click",n,{once:!0})),document.querySelectorAll(".filter-block").forEach(e=>{let t=e.querySelectorAll(".filter-select"),n=e.querySelectorAll(".filter-card"),o=e.querySelector(".quantity span");function c(){let e=0;n.forEach(n=>{let o=!0;t.forEach(e=>{var t=e.getAttribute("data-filter-type"),e=e.value,t=n.getAttribute("data-"+t);"all"!==e&&e!==t&&(o=!1)}),n.style.display=o?"":"none",o&&e++}),o&&r()}t.forEach(e=>{e.addEventListener("change",c)}),c()}),setTimeout(r,100);let d=document.querySelector(".popup-widget__plus"),u=document.querySelector(".popup-widget"),m=(d&&u&&(d.addEventListener("click",e=>{e.stopPropagation(),u.classList.contains("open")?(document.querySelector("html").style.paddingRight=0,document.querySelector("header").removeAttribute("style"),u.classList.remove("open"),document.body.classList.remove("widget-lock"),document.querySelector("html").classList.remove("widget-lock")):(scrollWidthFunc(),u.classList.add("open"),document.body.classList.add("widget-lock"),document.querySelector("html").classList.add("widget-lock"))}),document.addEventListener("click",e=>{!u.classList.contains("open")||u.contains(e.target)||d.click()})),document.querySelectorAll(".gallery__cards a")),h=document.querySelector(".show-more");if(m&&h){let n=8,t=4,o=(window.innerWidth<1200&&(n=6,t=3),n);m.forEach((e,t)=>{t>=n&&(e.style.display="none")}),h.addEventListener("click",function(){for(let e=o;e<o+t;e++)m[e]&&(m[e].style.display="block");(o+=t)>=m.length&&(h.style.display="none")}),m.length<=t&&(h.style.display="none")}e=document.querySelector(".test__list");let y=1,p=0;if(e&&e.getElementsByClassName("test__item")){let s=Array.from(e.getElementsByClassName("test__item")).slice(0);function g(e){let n=e*y,o=n+y;var t,c;s.forEach((e,t)=>{e.classList.toggle("hidden",t<n||t>=o)}),document.querySelectorAll(".pagination__item").forEach((e,t)=>{e.classList.remove("active","completed"),t<p?e.classList.add("completed"):t===p&&e.classList.add("active")}),e=Math.ceil(s.length/y),t=document.querySelector(".test__btn_next"),c=document.querySelector(".test__btn_finish"),p===e-1?(t.style.display="none",c.style.display="block"):(t.style.display="block",c.style.display="none")}var e=document.querySelector(".test__btn_next"),v=(e&&e.addEventListener("click",()=>{var e=Math.ceil(s.length/y);p<e-1&&g(++p)}),Math.ceil(s.length/y)),L=document.querySelector(".pagination");L.innerHTML="";for(let e=0;e<v;e++){var _=document.createElement("span");_.classList.add("pagination__item"),L.appendChild(_)}g(p)}e=document.querySelectorAll("input[type=search]"),0<e.length&&e.forEach(l=>{let a=l.closest(".search-wrapper");if(a){let t=a.querySelector(".popup__search-result"),c=a.querySelector(".popup__search"),s=t.querySelector(".no-results-message");l.addEventListener("input",function(){let n=l.value.toUpperCase();var e=a.querySelectorAll(".search-list");let o=0;e.forEach(e=>{var t=e.getElementsByTagName("li");for(let e=0;e<t.length;e++)-1<t[e].querySelector(".search-name").innerHTML.toUpperCase().indexOf(n)?(t[e].classList.remove("none"),o++):t[e].classList.add("none")}),s.classList.toggle("none",0<o),""===l.value.trim()?(t.classList.add("none"),c.classList.remove("none")):(t.classList.remove("none"),c.classList.add("none"))}),document.addEventListener("click",e=>{a.contains(e.target)||t.classList.add("none")})}}),e=document.getElementById("searchInput");e&&e.addEventListener("input",function(){let t=this.value.toLowerCase();document.querySelectorAll(".search-page-item").forEach(function(e){e.querySelector(".search-page-name").textContent.toLowerCase().includes(t)?e.style.display="":e.style.display="none"}),r(),checkAndHideBlocksIfEmpty()}),document.querySelectorAll(".footer__nav_acc").forEach(e=>{e&&e.addEventListener("click",function(){e.nextElementSibling.classList.toggle("active"),this.classList.toggle("active")})}),document.querySelectorAll(".is-scroll-up").forEach(e=>{e&&e.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})})})}),document.querySelector(".navigation"));if(articleNavigation){let e=document.querySelectorAll(".text h1, .text h2, .text h3, .text h4, .text h5");if(0<e.length){let s=document.querySelector(".navigation__list"),l=null,a=null;e.forEach((e,t)=>{var n=e.textContent,o=document.createElement("li"),c=document.createElement("a");o.classList.add("navigation__list_item"),o.classList.add("accordion"),c.classList.add("navigation__list_link"),e.setAttribute("id","heading-"+t),c.setAttribute("href","#heading-"+t),c.textContent=n,o.appendChild(c),"H2"===e.tagName?(o.classList.add("nav-title-h2"),s.appendChild(o),(l=document.createElement("ul")).classList.add("navigation__sublist"),l.classList.add("accordion__content"),o.appendChild(l),a=o):a&&(o.classList.add("nav-title-"+e.tagName.toLowerCase()),l.appendChild(o))}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var e=this.getAttribute("href").substring(1),e=document.getElementById(e);e&&(e=e.getBoundingClientRect().top,window.scrollBy({top:e-150,behavior:"smooth"}))})})}else{let e=articleNavigation.querySelector(".navigation__list");e&&e.remove()}}
//# sourceMappingURL=main.js.map
